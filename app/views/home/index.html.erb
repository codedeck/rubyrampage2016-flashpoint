<% 
  require 'front_cell'
  require 'fboard/cell'
  require 'fboard/row'

  length = 36
  cells = []
  (0...length).each do |i|
    event = false
    event = true if [2, 5, 7, 8, 9, 13, 16, 24, 25, 28, 32, 56].include? i 
    cells << FC::FrontCell.new(i, event)
  end
%>

<% 

row_num = 0
frow = FBoard::Row.new()

cells.each do |cell|

  fcell = FBoard::Cell.new(cell)
  cols_count = frow.cols_count + (fcell.width)

  if frow.column_exceed?(cols_count) || (cell == cells.last)

    if cell == cells.last
      frow.cells << fcell
    end

    if row_num % 2 != 0
      frow.cells = frow.cells.reverse
    end

  %>
  <div class="columns">
  <%
    frow.set_cells_direction(row_num % 2 == 0 ? :even : :odd)
    frow.set_offset(row_num % 2 == 0 ? :even : :odd)
    frow.cells.each do |rcell|
  %>
      <div class="column is-<%=rcell.width%> <%=rcell.offset%>">
        <% if rcell.index != -1 %>
          <%= render partial: "notification", locals: {header: rcell.index + 1, body: rcell.icon_name, color: rcell.color} %>
        <% end %>
      </div>
  <% end %>

  </div>

  <%

    frow = nil
    row_num += 1

    frow = FBoard::Row.new()
  end

  frow.cells << fcell
  
end
%>